<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Aria: ArMutex Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="classes.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ArMutex Class Reference</h1><!-- doxytag: class="ArMutex" --><code>#include &lt;ArMutex.h&gt;</code>
<p>

<p>
<a href="classArMutex-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Mutex wrapper class. 
<p>
This class wraps the operating system's mutex functions. It allows mutualy exclusive access to a critical section. This is extremely useful for multiple threads which want to use the same variable. On Linux, <a class="el" href="classArMutex.html" title="Mutex wrapper class.">ArMutex</a> simply uses the POSIX pthread interface in an object oriented manner. It also applies the same concept to Windows using Windows' own abilities to restrict access to critical sections.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd><a class="el" href="classArMutex.html" title="Mutex wrapper class.">ArMutex</a> is by default a recursive mutex. This means that a thread is allowed to acquire an additional lock (whether via <a class="el" href="classArMutex.html#7b6aee74872c19fb8829d96dc3e52f34">lock()</a> or <a class="el" href="classArMutex.html#76ff7a4aa451cc9c2b08dda0ae77d823">tryLock()</a>) on a locked mutex if that same thread already has the lock. This allows a thread to lock a mutex, but not become deadlocked if any functions called while it is locked also attempt to lock the mutex, while still preventing other threads from interrupting it. If you want a non-recursive mutex, so that multiple attempts by the same thread to lock a mutex to block, supply an argument of 'false' to the constructor. </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>

<p>
<a class="el" href="gpsRobotTaskExample_8cpp-example.html#_a5">gpsRobotTaskExample.cpp</a>, and <a class="el" href="threadExample_8cpp-example.html#_a2">threadExample.cpp</a>.</dl><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e40660428bf6083d5d3ce14f98ace19f"></a><!-- doxytag: member="ArMutex::MutexType" ref="e40660428bf6083d5d3ce14f98ace19f" args="" -->
typedef pthread_mutex_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>MutexType</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#5b6ab50205f1004c939f3946cfca3c62">Status</a> { <a class="el" href="classArMutex.html#5b6ab50205f1004c939f3946cfca3c62410e62490f5c6ca8e320d60d1a25081b">STATUS_FAILED_INIT</a> = 1, 
<a class="el" href="classArMutex.html#5b6ab50205f1004c939f3946cfca3c62fef90eab73ec7c605c7d2093572db8ad">STATUS_FAILED</a>, 
<a class="el" href="classArMutex.html#5b6ab50205f1004c939f3946cfca3c625a52964b5d55e36a0d170a49a8384961">STATUS_ALREADY_LOCKED</a>
 }</td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3eb0fbf29060b36c2c61d590104fa8f3"></a><!-- doxytag: member="ArMutex::ArMutex" ref="3eb0fbf29060b36c2c61d590104fa8f3" args="(const ArMutex &amp;mutex)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#3eb0fbf29060b36c2c61d590104fa8f3">ArMutex</a> (const <a class="el" href="classArMutex.html">ArMutex</a> &amp;mutex)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copy constructor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#69c6e7a984d23363faabf5969a0aa51b">ArMutex</a> (bool recursive=true)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#69c6e7a984d23363faabf5969a0aa51b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b6c0c5262a57b1cad42da3ed161dcd74"></a><!-- doxytag: member="ArMutex::getError" ref="b6c0c5262a57b1cad42da3ed161dcd74" args="(int messageNumber) const " -->
virtual const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#b6c0c5262a57b1cad42da3ed161dcd74">getError</a> (int messageNumber) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a human readable error message from an error code. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="906a64080c402fc53e6502d4163ed34d"></a><!-- doxytag: member="ArMutex::getMutex" ref="906a64080c402fc53e6502d4163ed34d" args="()" -->
virtual MutexType &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#906a64080c402fc53e6502d4163ed34d">getMutex</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a reference to the underlying OS-specific mutex variable. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#7b6aee74872c19fb8829d96dc3e52f34">lock</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#98c8e884ea991c9eead1359ac4c915bb">setLog</a> (bool log)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="00069ede1325b6f9f500ef2636858262"></a><!-- doxytag: member="ArMutex::setLogName" ref="00069ede1325b6f9f500ef2636858262" args="(const char *logName)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#00069ede1325b6f9f500ef2636858262">setLogName</a> (const char *logName)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets a name we'll use to log with. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#7211feb3bf6a740a857ca6e338229f1b">setLogNameVar</a> (const char *logName,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets a name we'll use to log with formatting.  <a href="#7211feb3bf6a740a857ca6e338229f1b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#76ff7a4aa451cc9c2b08dda0ae77d823">tryLock</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="fb51b5514a9456f23441e479fe58fb46"></a><!-- doxytag: member="ArMutex::unlock" ref="fb51b5514a9456f23441e479fe58fb46" args="()" -->
virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#fb51b5514a9456f23441e479fe58fb46">unlock</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unlock the mutex, allowing another thread to obtain the lock. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0993ae31527043d9c9c7fa75b6529080"></a><!-- doxytag: member="ArMutex::~ArMutex" ref="0993ae31527043d9c9c7fa75b6529080" args="()" -->
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#0993ae31527043d9c9c7fa75b6529080">~ArMutex</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#427415d8a47d36abee174f8504c2ce67">getLockWarningTime</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#97bab3f08a097cc206169deec0a96bb7">getUnlockWarningTime</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#d0df3cd5e0d03c21975d0380585596d1">setLockWarningTime</a> (double lockWarningSeconds)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArMutex.html#f9459634b10d103c933e058ce73f6874">setUnlockWarningTime</a> (double unlockWarningSeconds)</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7b4e4f99b02e169107354f5ec74c74d6"></a><!-- doxytag: member="ArMutex::checkLockTime" ref="7b4e4f99b02e169107354f5ec74c74d6" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>checkLockTime</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ba49b52a95bac12a5b74d9f25aa5eb25"></a><!-- doxytag: member="ArMutex::checkUnlockTime" ref="ba49b52a95bac12a5b74d9f25aa5eb25" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>checkUnlockTime</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="dc6f5f9b70c0a1a8d3e9ff99c5650acf"></a><!-- doxytag: member="ArMutex::initLockTiming" ref="dc6f5f9b70c0a1a8d3e9ff99c5650acf" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>initLockTiming</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0f0713b692e16640f72aa73ad6545798"></a><!-- doxytag: member="ArMutex::startLockTimer" ref="0f0713b692e16640f72aa73ad6545798" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>startLockTimer</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d69f7cc40e8eb3e6dca058a06e57e25e"></a><!-- doxytag: member="ArMutex::startUnlockTimer" ref="d69f7cc40e8eb3e6dca058a06e57e25e" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>startUnlockTimer</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a08770fd9af5bb7a6e1ba2fc6e08dfdd"></a><!-- doxytag: member="ArMutex::uninitLockTiming" ref="a08770fd9af5bb7a6e1ba2fc6e08dfdd" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>uninitLockTiming</b> ()</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4513a9aae549fff57b227d2ea42cd920"></a><!-- doxytag: member="ArMutex::myFailedInit" ref="4513a9aae549fff57b227d2ea42cd920" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myFailedInit</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="94a2fd0cd020161f9c1c62449289b141"></a><!-- doxytag: member="ArMutex::myFirstLock" ref="94a2fd0cd020161f9c1c62449289b141" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myFirstLock</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ca8dee050be7038b899e4a7ea5c497da"></a><!-- doxytag: member="ArMutex::myLockStarted" ref="ca8dee050be7038b899e4a7ea5c497da" args="" -->
<a class="el" href="classArTime.html">ArTime</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>myLockStarted</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="62514f78e031d12e79f63006a8e4ba95"></a><!-- doxytag: member="ArMutex::myLockTime" ref="62514f78e031d12e79f63006a8e4ba95" args="" -->
<a class="el" href="classArTime.html">ArTime</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>myLockTime</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4f6dbd48727b3b6966321e64f50506fb"></a><!-- doxytag: member="ArMutex::myLog" ref="4f6dbd48727b3b6966321e64f50506fb" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myLog</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="69c25005aec0d6381f834ac89de6214a"></a><!-- doxytag: member="ArMutex::myLogName" ref="69c25005aec0d6381f834ac89de6214a" args="" -->
std::string&nbsp;</td><td class="memItemRight" valign="bottom"><b>myLogName</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="296fc1e8215c6e615c94f5334dbf7a97"></a><!-- doxytag: member="ArMutex::myMutex" ref="296fc1e8215c6e615c94f5334dbf7a97" args="" -->
MutexType&nbsp;</td><td class="memItemRight" valign="bottom"><b>myMutex</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="14e99258a1f5c1f4ab1b3f1f2c7d38a1"></a><!-- doxytag: member="ArMutex::myNonRecursive" ref="14e99258a1f5c1f4ab1b3f1f2c7d38a1" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myNonRecursive</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f5f771810efd04ed19b5381007e36ba6"></a><!-- doxytag: member="ArMutex::myStrMap" ref="f5f771810efd04ed19b5381007e36ba6" args="" -->
ArStrMap&nbsp;</td><td class="memItemRight" valign="bottom"><b>myStrMap</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e18273df7fa36a03cebf1580a0c50061"></a><!-- doxytag: member="ArMutex::myWasAlreadyLocked" ref="e18273df7fa36a03cebf1580a0c50061" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>myWasAlreadyLocked</b></td></tr>

<tr><td colspan="2"><br><h2>Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="fd2321c3c11ef25bccd95b9b08e1d3e7"></a><!-- doxytag: member="ArMutex::ourLockWarningMS" ref="fd2321c3c11ef25bccd95b9b08e1d3e7" args="" -->
static unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><b>ourLockWarningMS</b> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1ca63d6be4f8f9d7cfb4e9c44d4c1b8f"></a><!-- doxytag: member="ArMutex::ourNonRecursiveDeadlockFunctor" ref="1ca63d6be4f8f9d7cfb4e9c44d4c1b8f" args="" -->
static <a class="el" href="classArFunctor.html">ArFunctor</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>ourNonRecursiveDeadlockFunctor</b> = NULL</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="15ce3854c36d1e8ec46dfc95f8d3703c"></a><!-- doxytag: member="ArMutex::ourUnlockWarningMS" ref="15ce3854c36d1e8ec46dfc95f8d3703c" args="" -->
static unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><b>ourUnlockWarningMS</b> = 0</td></tr>

</table>
<hr><h2>Member Enumeration Documentation</h2>
<a class="anchor" name="5b6ab50205f1004c939f3946cfca3c62"></a><!-- doxytag: member="ArMutex::Status" ref="5b6ab50205f1004c939f3946cfca3c62" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classArMutex.html#5b6ab50205f1004c939f3946cfca3c62">ArMutex::Status</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="5b6ab50205f1004c939f3946cfca3c62410e62490f5c6ca8e320d60d1a25081b"></a><!-- doxytag: member="STATUS_FAILED_INIT" ref="5b6ab50205f1004c939f3946cfca3c62410e62490f5c6ca8e320d60d1a25081b" args="" -->STATUS_FAILED_INIT</em>&nbsp;</td><td>
Failed to initialize. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="5b6ab50205f1004c939f3946cfca3c62fef90eab73ec7c605c7d2093572db8ad"></a><!-- doxytag: member="STATUS_FAILED" ref="5b6ab50205f1004c939f3946cfca3c62fef90eab73ec7c605c7d2093572db8ad" args="" -->STATUS_FAILED</em>&nbsp;</td><td>
General failure. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="5b6ab50205f1004c939f3946cfca3c625a52964b5d55e36a0d170a49a8384961"></a><!-- doxytag: member="STATUS_ALREADY_LOCKED" ref="5b6ab50205f1004c939f3946cfca3c625a52964b5d55e36a0d170a49a8384961" args="" -->STATUS_ALREADY_LOCKED</em>&nbsp;</td><td>
Mutex already locked. </td></tr>
</table>
</dl>

</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="69c6e7a984d23363faabf5969a0aa51b"></a><!-- doxytag: member="ArMutex::ArMutex" ref="69c6e7a984d23363faabf5969a0aa51b" args="(bool recursive=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArMutex::ArMutex           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>recursive</em> = <code>true</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>

<p>
KMC TESTING myStrMap[STATUS_FAILED_INIT]="Failed to initialize"; myStrMap[STATUS_FAILED]="General failure"; myStrMap[STATUS_ALREADY_LOCKED]="Mutex already locked"; 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="427415d8a47d36abee174f8504c2ce67"></a><!-- doxytag: member="ArMutex::getLockWarningTime" ref="427415d8a47d36abee174f8504c2ce67" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static double ArMutex::getLockWarningTime           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the lock warning time (sec) <dl class="note" compact><dt><b>Note:</b></dt><dd>Available on Linux only </dd></dl>

</div>
</div><p>
<a class="anchor" name="97bab3f08a097cc206169deec0a96bb7"></a><!-- doxytag: member="ArMutex::getUnlockWarningTime" ref="97bab3f08a097cc206169deec0a96bb7" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static double ArMutex::getUnlockWarningTime           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the lock warning time (sec) <dl class="note" compact><dt><b>Note:</b></dt><dd>Available on Linux only </dd></dl>

</div>
</div><p>
<a class="anchor" name="7b6aee74872c19fb8829d96dc3e52f34"></a><!-- doxytag: member="ArMutex::lock" ref="7b6aee74872c19fb8829d96dc3e52f34" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ArMutex::lock           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Lock the mutex<p>
If this is a recursive mutex (the default type), and a <em>different</em> thread has locked this mutex, then block until it is unlocked; if <em>this</em> thread has locked this mutex, then continue immediately and do not block.<p>
If this is <em>not</em> a recursive mutex, then block if any thread (including this thread) has locked this mutex.<p>
Call setLog(true) to enable extra logging.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 if the mutex was successfully locked (after blocking if it was already locked by another thread, or by any thread if this is <em>not</em> a recursive mutex). <p>
<a class="el" href="classArMutex.html#5b6ab50205f1004c939f3946cfca3c625a52964b5d55e36a0d170a49a8384961" title="Mutex already locked.">ArMutex::STATUS_ALREADY_LOCKED</a> immediately if this is a recursive mutex (default) and the current thread has already locked this mutex. <p>
<a class="el" href="classArMutex.html#5b6ab50205f1004c939f3946cfca3c62fef90eab73ec7c605c7d2093572db8ad" title="General failure.">ArMutex::STATUS_FAILED</a> on an error from the platform mutex implementation. <p>
<a class="el" href="classArMutex.html#5b6ab50205f1004c939f3946cfca3c62410e62490f5c6ca8e320d60d1a25081b" title="Failed to initialize.">ArMutex::STATUS_FAILED_INIT</a> if the platform threading is not enabled, initialized, etc.</dd></dl>
Lock the mutex. This function will block until no other thread has this mutex locked. If it returns 0, then it obtained the lock and the thread is free to use the critical section that this mutex protects. Else it returns an error code. See <a class="el" href="classArMutex.html#b6c0c5262a57b1cad42da3ed161dcd74" title="Get a human readable error message from an error code.">getError()</a>. 
</div>
</div><p>
<a class="anchor" name="d0df3cd5e0d03c21975d0380585596d1"></a><!-- doxytag: member="ArMutex::setLockWarningTime" ref="d0df3cd5e0d03c21975d0380585596d1" args="(double lockWarningSeconds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ArMutex::setLockWarningTime           </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>lockWarningSeconds</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the lock warning time (sec). If it takes more than <em>lockWarningSeconds</em> to perform the mutex lock in <a class="el" href="classArMutex.html#7b6aee74872c19fb8829d96dc3e52f34">lock()</a>, log a warning. <dl class="note" compact><dt><b>Note:</b></dt><dd>Available on Linux only </dd></dl>

</div>
</div><p>
<a class="anchor" name="98c8e884ea991c9eead1359ac4c915bb"></a><!-- doxytag: member="ArMutex::setLog" ref="98c8e884ea991c9eead1359ac4c915bb" args="(bool log)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArMutex::setLog           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>log</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets a flag that will log out when we lock and unlock. Use <a class="el" href="classArMutex.html#00069ede1325b6f9f500ef2636858262" title="Sets a name we&#39;ll use to log with.">setLogName()</a> to set a descriptive name for this mutex, and <a class="el" href="classArThread.html#f03075fb22fbfca1212d524f772f6c1c" title="Sets the name of the thread.">ArThread::setThreadName()</a> to set a descriptive name for a thread. 
</div>
</div><p>
<a class="anchor" name="7211feb3bf6a740a857ca6e338229f1b"></a><!-- doxytag: member="ArMutex::setLogNameVar" ref="7211feb3bf6a740a857ca6e338229f1b" args="(const char *logName,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArMutex::setLogNameVar           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>logName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets a name we'll use to log with formatting. 
<p>
<b>Java and Python Wrappers:</b> Not available in Java or Python wrapper libraries. use <a class="el" href="classArMutex.html#00069ede1325b6f9f500ef2636858262" title="Sets a name we&#39;ll use to log with.">setLogName()</a> 
</div>
</div><p>
<a class="anchor" name="f9459634b10d103c933e058ce73f6874"></a><!-- doxytag: member="ArMutex::setUnlockWarningTime" ref="f9459634b10d103c933e058ce73f6874" args="(double unlockWarningSeconds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ArMutex::setUnlockWarningTime           </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>unlockWarningSeconds</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the unlock warning time (sec). If it takes more than <em>unlockWarningSeconds</em> between the mutex being locked with <a class="el" href="classArMutex.html#7b6aee74872c19fb8829d96dc3e52f34">lock()</a> then unlocked with <a class="el" href="classArMutex.html#fb51b5514a9456f23441e479fe58fb46" title="Unlock the mutex, allowing another thread to obtain the lock.">unlock()</a>, log a warning. <dl class="note" compact><dt><b>Note:</b></dt><dd>Available on Linux only </dd></dl>

</div>
</div><p>
<a class="anchor" name="76ff7a4aa451cc9c2b08dda0ae77d823"></a><!-- doxytag: member="ArMutex::tryLock" ref="76ff7a4aa451cc9c2b08dda0ae77d823" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ArMutex::tryLock           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Try to lock the mutex, but do not block<p>
If this is a recursive mutex (the default type), and a <em>different</em> thread has locked this mutex, then return <a class="el" href="classArMutex.html#5b6ab50205f1004c939f3946cfca3c625a52964b5d55e36a0d170a49a8384961" title="Mutex already locked.">ArMutex::STATUS_ALREADY_LOCKED</a>; if <em>this</em> thread has locked this mutex, then return 0.<p>
If this is <em>not</em> a recursive mutex, then return 0 if any thread (including this thread) has locked this mutex.<p>
Returns <a class="el" href="classArMutex.html#5b6ab50205f1004c939f3946cfca3c62fef90eab73ec7c605c7d2093572db8ad" title="General failure.">ArMutex::STATUS_FAILED</a> or <a class="el" href="classArMutex.html#5b6ab50205f1004c939f3946cfca3c62410e62490f5c6ca8e320d60d1a25081b" title="Failed to initialize.">ArMutex::STATUS_FAILED_INIT</a> on an error (such as threading not initialized or supported).<p>
Call setLog(true) to enable extra logging.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 If <a class="el" href="classArMutex.html#76ff7a4aa451cc9c2b08dda0ae77d823">tryLock()</a> acquires the lock, or mutex is a recursive mutex (default) and is already locked by this thread <p>
<a class="el" href="classArMutex.html#5b6ab50205f1004c939f3946cfca3c625a52964b5d55e36a0d170a49a8384961" title="Mutex already locked.">ArMutex::STATUS_ALREADY_LOCKED</a> if this mutex is currently locked by another thread, or if mutex is <em>not</em> recursive, by any thread including the current thread. <p>
<a class="el" href="classArMutex.html#5b6ab50205f1004c939f3946cfca3c62fef90eab73ec7c605c7d2093572db8ad" title="General failure.">ArMutex::STATUS_FAILED</a> on an error from the platform mutex implementation. <p>
<a class="el" href="classArMutex.html#5b6ab50205f1004c939f3946cfca3c62410e62490f5c6ca8e320d60d1a25081b" title="Failed to initialize.">ArMutex::STATUS_FAILED_INIT</a> if the platform threading is not enabled, initialized, etc.</dd></dl>
Try to lock the mutex. This function will not block if another thread has the mutex locked. It will return instantly if that is the case. It will return STATUS_ALREADY_LOCKED if another thread has the mutex locked. If it obtains the lock, it will return 0. 
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>ArMutex.h<li>ArMutex.cpp<li>ArMutex_LIN.cpp<li>ArMutex_WIN.cpp</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Aug 1 12:22:52 2012 for Aria by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
